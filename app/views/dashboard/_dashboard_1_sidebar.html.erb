  <div id="sidebar">
    <div class="filter_row">
      <div class="filter_div">
        <div class="filter">
          <div class="filter-title"> Filter By <i class="fa fa-filter" aria-hidden="true"></i>
          </div>
          <div class="filter-body">
            <div id="main">
              <div class="filtereaccordion" id="filter">
                <div class="card">
                  <div class="card-header" id="faqhead1">
                    <a href="#" class="filter-link" data-toggle="collapse" data-target="#time-period" aria-expanded="true" aria-controls="time-period"> Time Period</a>
                  </div>
                  <div id="time-period" class="collapse show" aria-labelledby="faqhead1" data-parent="#filter">
                    <div class="card-body">
                      <ul class="subment-li">
                        <li class="p-0">
                          <div class="month-filter mt-2">
                            <div class="form-group mb-2">
                              <div class="input-group">
                                <div class="input-group-append">
                                  <span class="input-group-text input-grouplabel">
                                    <i class="fa fa-calendar-o"></i>
                                  </span>
                                </div>
                                <select class="form-control" aria-label="Filter select">
                                  <option> Select Monthly </option>
                                  <option value="January">January</option>
                                  <option value="February">February</option>
                                  <option value="March">March</option>
                                  <option value="April">April</option>
                                  <option value="May">May</option>
                                  <option value="June">June</option>
                                  <option value="July">July</option>
                                  <option value="August">August</option>
                                  <option value="September">September</option>
                                  <option value="October">October</option>
                                  <option value="November">November</option>
                                  <option value="December">December</option>
                                </select>
                              </div>
                            </div>
                          </div>
                        </li>
                        <li class="p-0">
                          <div class="month-filter mt-2">
                            <div class="form-group mb-2">
                              <div class="input-group">
                                <div class="input-group-append">
                                  <span class="input-group-text input-grouplabel">
                                    <i class="fa fa-calendar-o"></i>
                                  </span>
                                </div>
                                <select class="form-control" aria-label="Filter select">
                                  <option> Select Year </option>
                                  <option value="2019">2019</option>
                                  <option value="2020">2020</option>
                                  <option value="2021">2021</option>
                                  <option value="2022">2022</option>
                                  <option value="2023">2023</option>
                                </select>
                              </div>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="filter2">
                    <a href="#" class="filter-link collapsed" data-toggle="collapse" data-target="#Sector" aria-expanded="true" aria-controls="Sector">Sector</a>
                  </div>
                  <div id="Sector" class="collapse" aria-labelledby="filter2" data-parent="#filter">
                    <div class="card-body">
                      <ul class="subment-li">
                        <li>
                          <input type="radio" name="sector" value="Agriculture sector"> Agriculture sector
                        </li>
                        <li>
                          <input type="radio" name="sector" value="Services sector"> Services sector
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="filter3">
                    <a href="#" class="filter-link collapsed" data-toggle="collapse" data-target="#State" aria-expanded="true" aria-controls="State">State</a>
                  </div>
                  <div id="State" class="collapse" aria-labelledby="filter3" data-parent="#filter">
                    <div class="card-body">
                      <ul class="subment-li"><%@states.each do |state|%> <li>
                          <input type="checkbox" name="state" value=<%="#{state}"%>><%="#{state}"%>
                        </li><%end%> </ul>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="filter4">
                    <a href="#" class="filter-link collapsed" data-toggle="collapse" data-target="#Country" aria-expanded="true" aria-controls="Country">Country</a>
                  </div>
                  <div id="Country" class="collapse" aria-labelledby="filter4" data-parent="#filter">
                    <div class="card-body">
                      <input type="text" id="countrySearch" class="form-control" placeholder="Search countries...">
                      <ul class="subment-li list-group mt-2"><% @countries.each do |c| %> <li class="list-group-item">
                          <label>
                            <input type="checkbox" name="country" value="<%= c %>"><%= c %> </label>
                        </li><% end %> </ul>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="filter5">
                    <a href="#" class="filter-link collapsed" data-toggle="collapse" data-target="#age" aria-expanded="true" aria-controls="age">Age</a>
                  </div>
                  <div id="age" class="collapse" aria-labelledby="filter5" data-parent="#filter">
                    <div class="card-body">
                      <ul class="subment-li">
                        <li>
                          <input type="radio" name="age" value="18 to 29"> 18 to 29
                        </li>
                        <li>
                          <input type="radio" name="age" value="30 to 45"> 30 to 45
                        </li>
                        <li>
                          <input type="radio" name="age" value="50 to >"> 50 to >
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="filter5">
                    <a href="#" class="filter-link collapsed" data-toggle="collapse" data-target="#Gender" aria-expanded="true" aria-controls="Gender">Gender</a>
                  </div>
                  <div id="Gender" class="collapse" aria-labelledby="filter5" data-parent="#filter">
                    <div class="card-body">
                      <ul class="subment-li">
                        <li>
                          <input type="radio" name="gender" value="Male"> Male
                        </li>
                        <li>
                          <input type="radio" name="gender" value="Female"> Female
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="filter6">
                    <a href="#" class="filter-link collapsed" data-toggle="collapse" data-target="#Registration" aria-expanded="true" aria-controls="Registration">Registration at</a>
                  </div>
                  <div id="Registration" class="collapse" aria-labelledby="filter6" data-parent="#filter">
                    <div class="card-body">
                      <ul class="subment-li">
                        <li>
                          <input type="radio" name="registration" value="Web Portal"> Web Portal
                        </li>
                        <li>
                          <input type="radio" name="registration" value="Agency"> Agency
                        </li>
                        <li>
                          <input type="radio" name="registration" value="Regional Office"> Regional Office
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="card">
                  <div class="card-header" id="filter7">
                    <a href="#" class="filter-link collapsed" data-toggle="collapse" data-target="#ForeginWorker" aria-expanded="true" aria-controls="ForeginWorker">Foregin Worker Type</a>
                  </div>
                  <div id="ForeginWorker" class="collapse" aria-labelledby="filter7" data-parent="#filter">
                    <div class="card-body">
                      <ul class="subment-li">
                        <li>
                          <input type="radio" name="foregin_worker_type" value="RTK"> RTK
                        </li>
                        <li>
                          <input type="radio" name="foregin_worker_type" Value="Normal"> Normal
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="filter-btn">
                  <button class="btn-apply" data-toggle="collapse" data-target="#tag_demo" onclick="filter_ajax(true)"> Apply</button>
                  <button class="btn-clear" onclick="filter_ajax(false)">Clear</button>
                </div>
              </div>
            </div>
            <div id="result"></div>
            <script>
              // function getValues() {
              //   var ele = [];
              //   var cb = document.getElementsByName("addcheck");
              //   var total = 0;
              //   for (var i = 0; i < cb.length; i++) {
              //     if (cb[i].checked) {
              //       ele.push(cb[i].value);
              //     }
              //   }
              //   if (ele.length > 0) {
              //     document.getElementById("result").innerHTML = "You selected " + ele;
              //   } else {
              //     document.getElementById("result").innerHTML = "You have not selected anything";
              //   }
              // }
            </script>
            <!-- <ul class="list"><li>
        Time Period</li><li>Sector</li><li>State</li><li>Country</li><li>Age</li><li>Gender</li><li>Registration at</li><li>Foregin Worker Type</li></ul> -->
          </div>
        </div>
        <div class="filter">
          <div class="filter-title"> Export <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          </div>
          <div class="filter-body">
            <ul class="subment-li">
              <li>
                <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
                <a href="/generate_pdf"> Pdf File</a>
              </li>
              <li>
                <i class="fa fa-file-pdf-o" aria-hidden="true"></i>
                <a href="/generate_excel"> Excel File</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="filter">
          <div class="filter-title"> Refresh <i class="fa fa-repeat" aria-hidden="true"></i>
          </div>
          <div class="filter-body">
            <ul class="subment-li">
              <li>
                <select class="form-control" aria-label="Filter select">
                  <option> 5 min </option>
                  <option value="January">15 min</option>
                  <option value="February">30 min</option>
                </select>
              </li>
            </ul>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
  <style type="text/css">
    /* Style for the collapsed filter link */
    .filter-link.collapsed {
      color: #333;
      /* Adjust the color as needed */
    }

    /* Adjust the maximum height of the dropdown when expanded */
    #Country.show .card-body {
      max-height: 250px;
      /* Adjust as needed */
      overflow-y: auto;
    }

    #State.show .card-body {
      max-height: 250px;
      /* Adjust as needed */
      overflow-y: auto;
    }

    /* Optional: Style the checkbox label for better interaction */
    .card-body label {
      display: block;
      margin-bottom: 5px;
      cursor: pointer;
    }

    /* Optional: Style the checked checkboxes */
    .card-body input[type="checkbox"]:checked+label {
      font-weight: bold;
    }
  </style>


  <script type="text/javascript">
    $(document).ready(function() {
    // Initialize the collapse behavior
    $('.collapse').collapse();

    // Handle search functionality
    $('#countrySearch').on('input', function() {
            var searchTerm = $(this).val().toLowerCase();
            $('.subment-li li').each(function() {
                var countryName = $(this).text().toLowerCase();
                $(this).toggle(countryName.indexOf(searchTerm) > -1);
            });
        });
    });

  </script>